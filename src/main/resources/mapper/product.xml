<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper
   namespace="com.tenco.tencoshop.repository.interfaces.ProductRepository">
   <select id="findAll"
      resultType="com.tenco.tencoshop.repository.model.Product">
      select * from product_tb
   </select>

   <select id="findProduct"
      resultType="com.tenco.tencoshop.repository.model.Product">
      select * from product_tb where prod_name LIKE #{prodName};
   </select>
   
   <select id="findProductById" resultType="com.tenco.tencoshop.dto.ProductResponseDto">
   		select p.*, b.name, c.name, s.name
		from product_tb as p
		inner join brand_tb as b
		on p.brand_id = b.id
		inner join category_tb as c
		on p.category_id = c.id
		inner join size_tb as s
		on p.size_id = s.id
		where p.id = #{id};
   </select>
   
</mapper>
